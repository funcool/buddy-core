<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>buddy.core.crypto documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">buddy-core</span> <span class="project-version">1.10.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="00-introduction.html"><div class="inner"><span>Introduction</span></div></a></li><li class="depth-1 "><a href="01-hash.html"><div class="inner"><span>Hash algorithms (digest)</span></div></a></li><li class="depth-1 "><a href="02-mac.html"><div class="inner"><span>MAC algorithms</span></div></a></li><li class="depth-1 "><a href="03-keys.html"><div class="inner"><span>Keys</span></div></a></li><li class="depth-1 "><a href="04-dsa.html"><div class="inner"><span>Digital Signatures</span></div></a></li><li class="depth-1 "><a href="05-kdf.html"><div class="inner"><span>Key Derivation Functions (KDF)</span></div></a></li><li class="depth-1 "><a href="06-cipher.html"><div class="inner"><span>Ciphers</span></div></a></li><li class="depth-1 "><a href="07-padding.html"><div class="inner"><span>Paddings</span></div></a></li><li class="depth-1 "><a href="08-nonce.html"><div class="inner"><span>Nonces and Salts</span></div></a></li><li class="depth-1 "><a href="09-certificates.html"><div class="inner"><span>Certificates (X.509)</span></div></a></li><li class="depth-1 "><a href="10-utils.html"><div class="inner"><span>Codecs &amp; Bytes</span></div></a></li><li class="depth-1 "><a href="11-faq.html"><div class="inner"><span>FAQ</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>buddy</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></div></li><li class="depth-3 branch"><a href="buddy.core.bytes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bytes</span></div></a></li><li class="depth-3 branch"><a href="buddy.core.certificates.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>certificates</span></div></a></li><li class="depth-3"><a href="buddy.core.codecs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codecs</span></div></a></li><li class="depth-4"><a href="buddy.core.codecs.base64.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>base64</span></div></a></li><li class="depth-3 branch current"><a href="buddy.core.crypto.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>crypto</span></div></a></li><li class="depth-3 branch"><a href="buddy.core.dsa.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dsa</span></div></a></li><li class="depth-3 branch"><a href="buddy.core.hash.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hash</span></div></a></li><li class="depth-3 branch"><a href="buddy.core.kdf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kdf</span></div></a></li><li class="depth-3"><a href="buddy.core.keys.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>keys</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jwk</span></div></div></li><li class="depth-5 branch"><a href="buddy.core.keys.jwk.ec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ec</span></div></a></li><li class="depth-5 branch"><a href="buddy.core.keys.jwk.eddsa.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>eddsa</span></div></a></li><li class="depth-5 branch"><a href="buddy.core.keys.jwk.okp.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>okp</span></div></a></li><li class="depth-5 branch"><a href="buddy.core.keys.jwk.proto.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>proto</span></div></a></li><li class="depth-5"><a href="buddy.core.keys.jwk.rsa.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rsa</span></div></a></li><li class="depth-4"><a href="buddy.core.keys.pem.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>pem</span></div></a></li><li class="depth-3 branch"><a href="buddy.core.mac.html"><div class="inner"><span class="tree" style="top: -238px;"><span class="top" style="height: 247px;"></span><span class="bottom"></span></span><span>mac</span></div></a></li><li class="depth-3 branch"><a href="buddy.core.nonce.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>nonce</span></div></a></li><li class="depth-3"><a href="buddy.core.padding.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>padding</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -610px;"><span class="top" style="height: 619px;"></span><span class="bottom"></span></span><span>util</span></div></div></li><li class="depth-3 branch"><a href="buddy.util.deflate.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>deflate</span></div></a></li><li class="depth-3"><a href="buddy.util.ecdsa.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ecdsa</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="buddy.core.crypto.html#var--decrypt"><div class="inner"><span>-decrypt</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var--encrypt"><div class="inner"><span>-encrypt</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-block-cipher"><div class="inner"><span>block-cipher</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-block-size"><div class="inner"><span>block-size</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-decrypt"><div class="inner"><span>decrypt</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-encrypt"><div class="inner"><span>encrypt</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-end.21"><div class="inner"><span>end!</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-get-block-size"><div class="inner"><span>get-block-size</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-get-output-size"><div class="inner"><span>get-output-size</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-IBlockCipherLike"><div class="inner"><span>IBlockCipherLike</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-ICipherInit"><div class="inner"><span>ICipherInit</span></div></a></li><li class="depth-2 branch"><a href="buddy.core.crypto.html#var--end"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-end</span></div></a></li><li class="depth-2"><a href="buddy.core.crypto.html#var--init"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-init</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-init.21"><div class="inner"><span>init!</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-initialize.21"><div class="inner"><span>initialize!</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-IStreamCipherLike"><div class="inner"><span>IStreamCipherLike</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-output-size"><div class="inner"><span>output-size</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-process-block.21"><div class="inner"><span>process-block!</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-process-bytes.21"><div class="inner"><span>process-bytes!</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-split-by-blocksize"><div class="inner"><span>split-by-blocksize</span></div></a></li><li class="depth-1"><a href="buddy.core.crypto.html#var-stream-cipher"><div class="inner"><span>stream-cipher</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">buddy.core.crypto</h1><div class="doc"><div class="markdown"><p>Crypto engines low-level abstraction.</p></div></div><div class="public anchor" id="var--decrypt"><h3>-decrypt</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L400">view source</a></div></div><div class="public anchor" id="var--encrypt"><h3>-encrypt</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L399">view source</a></div></div><div class="public anchor" id="var-block-cipher"><h3>block-cipher</h3><div class="usage"><code>(block-cipher alg mode)</code></div><div class="doc"><div class="markdown"><p>Block cipher engine constructor.</p></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L218">view source</a></div></div><div class="public anchor" id="var-block-size"><h3>block-size</h3><div class="usage"><code>(block-size engine)</code></div><div class="doc"><div class="markdown"><p>Return the block size of the block cipher.</p></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L121">view source</a></div></div><div class="public anchor" id="var-decrypt"><h3>decrypt</h3><div class="usage"><code>(decrypt input key iv)</code><code>(decrypt input key iv {:keys [algorithm alg], :or {alg :aes128-cbc-hmac-sha256}, :as options})</code></div><div class="doc"><div class="markdown"><p>Decrypt data encrypted using the <code>encrypt</code> function.</p>
<p>The input, key and iv parameters should be of any type that can be coerced to byte array.</p></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L555">view source</a></div></div><div class="public anchor" id="var-encrypt"><h3>encrypt</h3><div class="usage"><code>(encrypt input key iv)</code><code>(encrypt input key iv {:keys [algorithm alg], :or {alg :aes128-cbc-hmac-sha256}, :as options})</code></div><div class="doc"><div class="markdown"><p>Encrypt arbitrary length data using one of the supported encryption scheme. The default encryption scheme is: <code>:aes128-cbc-hmac-sha256</code>.</p>
<p>Example: <code>(encrypt "hello world" mykey myiv)</code></p>
<p>You can specify an other encryption scheme passing an additional parameter.</p>
<p>Example: <code>(encrypt "hello world" mykey myiv {:alg :aes128-cbc-hmac-sha512})</code></p>
<p>See the documentation for know the complete list of supported encryption schemes.</p>
<p>The input, key and iv parameters should be of any type that can be coerced to byte array.</p></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L525">view source</a></div></div><div class="public anchor" id="var-end.21"><h3>end!</h3><div class="usage"><code>(end! engine output offset)</code></div><div class="doc"><div class="markdown"><p>End the encryption process. This is only usefull for aead block ciphers, for the rest it always return <code>0</code> and does nothing.</p></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L211">view source</a></div></div><div class="public anchor" id="var-get-block-size"><h3>get-block-size</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A backward compatibility alias for <code>output-size</code> function.</p></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L126">view source</a></div></div><div class="public anchor" id="var-get-output-size"><h3>get-output-size</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A backward compatibility alias for <code>output-size</code> function.</p></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L117">view source</a></div></div><div class="public anchor" id="var-IBlockCipherLike"><h3>IBlockCipherLike</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L158">view source</a></div></div><div class="public anchor" id="var-ICipherInit"><h3>ICipherInit</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var--end"><h3>-end</h3><div class="usage"><code>(-end engine out offset)</code></div><div class="doc"><div class="markdown"><p>Finalize cipher engine.</p></div></div></div><div class="public anchor" id="var--init"><h3>-init</h3><div class="usage"><code>(-init engine params)</code></div><div class="doc"><div class="markdown"><p>Initialize cipher engine.</p></div></div></div></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L130">view source</a></div></div><div class="public anchor" id="var-init.21"><h3>init!</h3><div class="usage"><code>(init! engine params)</code></div><div class="doc"><div class="markdown"><p>Initialize the cipher engine.</p></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L149">view source</a></div></div><div class="public anchor" id="var-initialize.21"><h3>initialize!</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A backward compatibility alias for <code>init!</code></p></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L154">view source</a></div></div><div class="public anchor" id="var-IStreamCipherLike"><h3>IStreamCipherLike</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L161">view source</a></div></div><div class="public anchor" id="var-output-size"><h3>output-size</h3><div class="usage"><code>(output-size engine length)</code></div><div class="doc"><div class="markdown"><p>Get the output size of the aead block cipher.</p></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L112">view source</a></div></div><div class="public anchor" id="var-process-block.21"><h3>process-block!</h3><div class="usage"><code>(process-block! engine in)</code><code>(process-block! engine in inoff out outoff)</code></div><div class="doc"><div class="markdown"><p>Encrypt or decrypt a bytes using the specified engine. The length of the block to encrypt or decrypt depends on the used crypto engine.</p></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L186">view source</a></div></div><div class="public anchor" id="var-process-bytes.21"><h3>process-bytes!</h3><div class="usage"><code>(process-bytes! engine in)</code><code>(process-bytes! engine in inoff out outoff)</code><code>(process-bytes! engine in inoff inlen out outoff)</code></div><div class="doc"><div class="markdown"><p>Encrypt or decrypt a bytes using the specified engine. Is a specialized version of <code>process-block!</code> for stream ciphers and aead ciphers.</p></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L197">view source</a></div></div><div class="public anchor" id="var-split-by-blocksize"><h3>split-by-blocksize</h3><div class="usage"><code>(split-by-blocksize input blocksize)</code><code>(split-by-blocksize input blocksize additional)</code></div><div class="doc"><div class="markdown"><p>Split a byte array in blocksize blocks.</p>
<p>Given a arbitrary size bytearray and block size in bytes, returns a vector of bytearray blocks of blocksize size. If last block does not have enought data for fill all block, it is padded using zerobyte padding.</p></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L234">view source</a></div></div><div class="public anchor" id="var-stream-cipher"><h3>stream-cipher</h3><div class="usage"><code>(stream-cipher alg)</code></div><div class="doc"><div class="markdown"><p>Stream cipher engine constructor.</p></div></div><div class="src-link"><a href="https://github.com/funcool/buddy-core/blob/master/src/buddy/core/crypto.clj#L227">view source</a></div></div></div></body></html>